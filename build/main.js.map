{
  "version": 3,
  "sources": ["../src/main.ts"],
  "sourcesContent": ["/*\n * Created with @iobroker/create-adapter v1.32.0\n */\n\nimport * as utils from '@iobroker/adapter-core';\nimport axios from 'axios';\n\ninterface GotifyMessage {\n    message?: string;\n    title?: string;\n    priority?: number;\n    contentType?: string;\n}\n\nclass Gotify extends utils.Adapter {\n    public constructor(options: Partial<utils.AdapterOptions> = {}) {\n        super({\n            ...options,\n            name: 'gotify',\n        });\n        this.on('ready', this.onReady.bind(this));\n        this.on('message', this.onMessage.bind(this));\n        this.on('unload', this.onUnload.bind(this));\n    }\n\n    private async migrateConfigurationIfNeeded(): Promise<void> {\n        // Migration: If old format (token as string) still exists, migrate\n        // let migrated = false;\n        this.log.info(`Checking adapter configuration for migration needs...${JSON.stringify(this.config)}`);\n        if (this.config.token && this.config.tokens && this.config.tokens.length === 0) {\n            this.log.info('Old adapter configuration detected, performing migration...');\n            // Perform migration\n            const alias = 'default';\n            this.config.tokens = [{ alias, token: this.config.token }];\n            this.config.defaultTokenAlias = alias;\n            this.config.token = '';\n            // migrated = true;\n            this.log.info('Adapter configuration migrated to multi-token structure.');\n            // Optional: Save migration persistently\n            const obj = await this.getForeignObjectAsync(`system.adapter.${this.name}.${this.instance}`);\n            if (obj && obj.native) {\n                let changed = false;\n                if (\n                    !Array.isArray(obj.native.tokens) ||\n                    JSON.stringify(obj.native.tokens) !== JSON.stringify(this.config.tokens)\n                ) {\n                    obj.native.tokens = this.config.tokens;\n                    changed = true;\n                }\n                if (obj.native.defaultTokenAlias !== this.config.defaultTokenAlias) {\n                    obj.native.defaultTokenAlias = this.config.defaultTokenAlias;\n                    changed = true;\n                }\n                if ('token' in obj.native) {\n                    delete obj.native.token;\n                    changed = true;\n                }\n                if (changed) {\n                    await this.extendForeignObject(`system.adapter.${this.name}.${this.instance}`, obj);\n                }\n            }\n        }\n\n        this.log.debug(`config url: ${this.config.url}`);\n        this.log.debug(`config tokens: ${JSON.stringify(this.config.tokens)}`);\n        this.log.debug(`config defaultTokenAlias: ${this.config.defaultTokenAlias}`);\n\n        // Decrypt tokens if needed (all tokens in the array)\n        let tokensDecrypted = false;\n        if (this.config.tokens && Array.isArray(this.config.tokens)) {\n            for (const t of this.config.tokens) {\n                if (!this.supportsFeature || !this.supportsFeature('ADAPTER_AUTO_DECRYPT_NATIVE')) {\n                    if (t.token && t.token.startsWith('$/aes')) {\n                        t.token = this.decrypt(t.token);\n                        tokensDecrypted = true;\n                    }\n                }\n            }\n        }\n        // After decrypting: Perform default check and write decrypted tokens back\n        if (tokensDecrypted) {\n            // Default check (only one default, as above)\n            let foundDefault = false;\n            let defaultAlias = '';\n            const defaultIndices = this.config.tokens.map((t, i) => (t.isDefault ? i : -1)).filter(i => i !== -1);\n            if (defaultIndices.length === 1) {\n                foundDefault = true;\n                defaultAlias = this.config.tokens[defaultIndices[0]].alias || '';\n            } else if (defaultIndices.length > 1) {\n                for (let i = 0; i < this.config.tokens.length; i++) {\n                    this.config.tokens[i].isDefault = i === defaultIndices[0];\n                }\n                foundDefault = true;\n                defaultAlias = this.config.tokens[defaultIndices[0]].alias || '';\n            }\n            if (!foundDefault || !defaultAlias) {\n                this.config.tokens.forEach((t, i) => (t.isDefault = i === 0));\n                defaultAlias = this.config.tokens[0].alias || '';\n            }\n            this.config.defaultTokenAlias = defaultAlias;\n            // Save back to object (decrypted)\n            const obj = await this.getForeignObjectAsync(`system.adapter.${this.name}.${this.instance}`);\n            if (obj && obj.native) {\n                let changed = false;\n                if (\n                    !Array.isArray(obj.native.tokens) ||\n                    JSON.stringify(obj.native.tokens) !== JSON.stringify(this.config.tokens)\n                ) {\n                    obj.native.tokens = this.config.tokens;\n                    changed = true;\n                    this.log.info('Tokens changed during decryption migration.');\n                }\n                if (obj.native.defaultTokenAlias !== defaultAlias) {\n                    obj.native.defaultTokenAlias = defaultAlias;\n                    changed = true;\n                    this.log.info('defaultTokenAlias changed during decryption migration.');\n                }\n                if (changed) {\n                    this.log.info('Saving decrypted tokens back to adapter configuration.');\n                    this.extendForeignObject(`system.adapter.${this.name}.${this.instance}`, obj);\n                }\n            }\n        }\n        // Encrypt tokens if they are still stored unencrypted\n        await this.encryptTokensIfNeeded();\n\n        if (this.config.url && this.config.tokens && this.config.tokens.length > 0) {\n            await this.setState('info.connection', true, true);\n            this.log.info('Gotify adapter konfiguriert');\n        } else {\n            await this.setState('info.connection', false, true);\n            this.log.warn('Gotify adapter nicht konfiguriert');\n        }\n        // Migration for privateKey if needed\n        await this.encryptPrivateKeyIfNeeded();\n        this.log.info('Migration check completed.');\n    }\n\n    /**\n     * Is called when databases are connected and adapter received configuration.\n     */\n    private async onReady(): Promise<void> {\n        this.log.info('Gotify adapter starting');\n        await this.migrateConfigurationIfNeeded();\n        // Logic : Only one token may have isDefault=true, set defaultTokenAlias accordingly\n        if (this.config.tokens && Array.isArray(this.config.tokens) && this.config.tokens.length > 0) {\n            let foundDefault = false;\n            let defaultAlias = '';\n            // Find all indices with isDefault=true\n            const defaultIndices = this.config.tokens.map((t, i) => (t.isDefault ? i : -1)).filter(i => i !== -1);\n            if (defaultIndices.length === 1) {\n                foundDefault = true;\n                defaultAlias = this.config.tokens[defaultIndices[0]].alias || '';\n            } else if (defaultIndices.length > 1) {\n                // Multiple found, only first remains\n                for (let i = 0; i < this.config.tokens.length; i++) {\n                    this.config.tokens[i].isDefault = i === defaultIndices[0];\n                }\n                foundDefault = true;\n                defaultAlias = this.config.tokens[defaultIndices[0]].alias || '';\n            }\n            // If none set or alias empty: first as default\n            if (!foundDefault || !defaultAlias) {\n                this.config.tokens.forEach((t, i) => (t.isDefault = i === 0));\n                defaultAlias = this.config.tokens[0].alias || '';\n            }\n            this.config.defaultTokenAlias = defaultAlias;\n            // Save back to object\n            const obj = await this.getForeignObjectAsync(`system.adapter.${this.name}.${this.instance}`);\n            if (obj && obj.native) {\n                let changed = false;\n                if (obj.native.defaultTokenAlias !== defaultAlias) {\n                    obj.native.defaultTokenAlias = defaultAlias;\n                    changed = true;\n                }\n                if (\n                    !Array.isArray(obj.native.tokens) ||\n                    JSON.stringify(obj.native.tokens) !== JSON.stringify(this.config.tokens)\n                ) {\n                    obj.native.tokens = this.config.tokens;\n                    changed = true;\n                }\n                if (changed) {\n                    this.extendForeignObject(`system.adapter.${this.name}.${this.instance}`, obj);\n                }\n            }\n        }\n        // Ensure tokens array is always saved in the object (so Admin UI sees it)\n        if (this.config.tokens && Array.isArray(this.config.tokens)) {\n            const obj = await this.getForeignObjectAsync(`system.adapter.${this.name}.${this.instance}`);\n            if (\n                obj &&\n                obj.native &&\n                (!Array.isArray(obj.native.tokens) ||\n                    JSON.stringify(obj.native.tokens) !== JSON.stringify(this.config.tokens))\n            ) {\n                obj.native.tokens = this.config.tokens;\n                this.extendForeignObject(`system.adapter.${this.name}.${this.instance}`, obj);\n            }\n        }\n        this.log.info('Gotify adapter started');\n    }\n\n    // Legacy: For migration of old instances, can be removed later\n    private async encryptPrivateKeyIfNeeded(): Promise<void> {\n        // Check if old token field still exists (Legacy)\n        const obj = await this.getForeignObjectAsync(`system.adapter.${this.name}.${this.instance}`);\n        if (obj && obj.native && obj.native.token && !obj.native.token.startsWith('$/aes')) {\n            obj.native.token = this.encrypt(obj.native.token);\n            this.extendForeignObject(`system.adapter.${this.name}.${this.instance}`, obj);\n            this.log.info('token is now stored encrypted');\n        }\n    }\n\n    /**\n     * Encrypts all tokens in the array if they are still unencrypted and saves them persistently.\n     */\n    private async encryptTokensIfNeeded(): Promise<void> {\n        const obj = await this.getForeignObjectAsync(`system.adapter.${this.name}.${this.instance}`);\n        let changed = false;\n        if (obj && obj.native && Array.isArray(obj.native.tokens)) {\n            for (const t of obj.native.tokens) {\n                if (t.token && !t.token.startsWith('$/aes')) {\n                    t.token = this.encrypt(t.token);\n                    changed = true;\n                }\n            }\n            if (changed) {\n                this.extendForeignObject(`system.adapter.${this.name}.${this.instance}`, obj);\n                this.log.info('All tokens are now stored encrypted');\n            }\n        }\n    }\n\n    /**\n     * Is called when adapter shuts down - callback has to be called under any circumstances!\n     *\n     * @param callback Callback to be called after shutdown\n     */\n    private onUnload(callback: () => void): void {\n        this.log.info('Gotify adapter shutting down...');\n        try {\n            callback();\n        } catch (e) {\n            this.log.error(`Error during unload: ${JSON.stringify(e)}`);\n            callback();\n        }\n    }\n\n    private onMessage(obj: ioBroker.Message): void {\n        this.log.info(`Received message: ${JSON.stringify(obj)}`);\n        if (typeof obj === 'object' && obj.message) {\n            if (obj.command === 'send') {\n                this.sendMessage(obj.message as GotifyMessage);\n                // Send response in callback if required\n                if (obj.callback) {\n                    this.sendTo(obj.from, obj.command, 'Message received', obj.callback);\n                }\n            } else if (obj.command === 'sendNotification') {\n                this.processNotification(obj);\n            }\n        }\n    }\n\n    private processNotification(obj: ioBroker.Message): void {\n        const notificationMessage: GotifyMessage = this.formatNotification(obj.message);\n        try {\n            this.sendMessage(notificationMessage);\n            if (obj.callback) {\n                this.sendTo(obj.from, 'sendNotification', { sent: true }, obj.callback);\n            }\n        } catch {\n            if (obj.callback) {\n                this.sendTo(obj.from, 'sendNotification', { sent: false }, obj.callback);\n            }\n        }\n    }\n\n    private formatNotification(notification: any): GotifyMessage {\n        const instances = notification.category.instances as Map<string, any>;\n        const readableInstances = Object.entries(instances).map(\n            ([instance, entry]) =>\n                `${instance.substring('system.adapter.'.length)}: ${this.getLatestMessage(entry.messages)}`,\n        );\n\n        const text = `${notification.category.description}\n        ${notification.host}:\n        ${readableInstances.join('\\n')}\n            `;\n\n        return {\n            message: text,\n            title: notification.category.name,\n            priority: this.getPriority(notification.severity),\n            contentType: 'text/plain',\n        };\n    }\n\n    private getPriority(severity: string): number {\n        switch (severity) {\n            case 'notify':\n                return 1;\n            case 'info':\n                return 4;\n            case 'alert':\n                return 10;\n            default:\n                return 4;\n        }\n    }\n\n    private sendMessage(message: GotifyMessage, tokenAlias?: string): void {\n        if (this.config.url && this.config.tokens && this.config.tokens.length > 0) {\n            // Token ausw\u00E4hlen\n            let tokenObj = this.config.tokens.find(\n                (t: any) => t.alias === (tokenAlias || this.config.defaultTokenAlias),\n            );\n            if (!tokenObj) {\n                tokenObj = this.config.tokens[0];\n            }\n            const token = tokenObj.token;\n            axios\n                .post(`${this.config.url}/message?token=${token}`, {\n                    title: message.title,\n                    message: message.message,\n                    priority: message.priority,\n                    timeout: 1000,\n                    extras: {\n                        'client::display': {\n                            contentType: message.contentType,\n                        },\n                    },\n                })\n                .then(() => {\n                    this.log.debug('Successfully sent message to gotify');\n                })\n                .catch(error => {\n                    this.log.error(`Error while sending message to gotify:${JSON.stringify(error)}`);\n                });\n        } else {\n            this.log.error(`Cannot send notification while not configured:${JSON.stringify(message)}`);\n        }\n    }\n    private getLatestMessage(messages: any): string {\n        const latestMessage = messages.sort((a: any, b: any) => (a.ts < b.ts ? 1 : -1))[0];\n\n        return `${new Date(latestMessage.ts).toLocaleString()} ${latestMessage.message}`;\n    }\n}\n\nif (require.main !== module) {\n    // Export the constructor in compact mode\n    module.exports = (options: Partial<utils.AdapterOptions> | undefined) => new Gotify(options);\n} else {\n    // otherwise start the instance directly\n    (() => new Gotify())();\n}\n"],
  "mappings": "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",
  "names": ["axios"]
}
